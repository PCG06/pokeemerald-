# Version 1.9.2

```md
## How to update
- If you haven't set up a remote, run the command `git remote add RHH https://github.com/rh-hideout/pokeemerald-expansion`.
- Once you have your remote set up, run the command `git pull RHH expansion/1.9.2`.
```

## üåã *REFACTORS* üåã
üìú = Uses a migration script.
* Remove unused `BattleScript_WindPowerActivatesEnd2` in [#5257](https://github.com/rh-hideout/pokeemerald-expansion/pull/5257)
* Refactored in-battle disobedience to fix bug in [#5245](https://github.com/rh-hideout/pokeemerald-expansion/pull/5245)

## üí• *Hardlock/Softlock/Crash/Compiling fixes* üí•
* Fixed hardlock when Hyperspace Fury is used by Hoopa Unbound by @AlexOn1ine in [#5237](https://github.com/rh-hideout/pokeemerald-expansion/pull/5237)
* Fixed compile error when `OW_POKEMON_OBJECT_EVENTS` is `TRUE` but `P_HISUIAN_FORMS` is `FALSE` around Basculin by @hjk321 in [#5256](https://github.com/rh-hideout/pokeemerald-expansion/pull/5256)
* Fixed hardlock when the AI cannot choose moves due to its opponent having Wonder Guard by @Pawkkie and Wiz in [#5317](https://github.com/rh-hideout/pokeemerald-expansion/pull/5317)
* Fixed multiple Pledge move hardlocks
    * Fixed potential hardlock when attempting to use Pledge moves on the same turn that the user would wake up by @PhallenTree in [#5330](https://github.com/rh-hideout/pokeemerald-expansion/pull/5330)
    * Fixed hardlock when the opponent's combo doesn't happen when cancelled by sleep by @hedara90 and @PhallenTree in [#5339](https://github.com/rh-hideout/pokeemerald-expansion/pull/5339)
    * Fixes hardlock when the opponent's combo doesn't happen when cancelled by freeze by @PhallenTree in [#5340](https://github.com/rh-hideout/pokeemerald-expansion/pull/5340)
    * Fixed hardlock when the opponent's combo doesn't happen when cancelled by Powder by @hedara90 in [#5341](https://github.com/rh-hideout/pokeemerald-expansion/pull/5341)

## üß¨ General üß¨
### Fixed
* Fixed loading into the wrong version of a map after saving in areas with multiple layouts by @hedara90 in https://github.com/rh-hideout/pokeemerald-expansion/pull/5347

## üêâ Pok√©mon üêâ
### Added
* Added Paldean Wooper and Clodsire overworld sprites by @Cafeei in [#5277](https://github.com/rh-hideout/pokeemerald-expansion/pull/5277)
* Added missing Sirfetch'd competitive alias (`SPECIES_SIRFETCH_D`) by @cawtds in [#5283](https://github.com/rh-hideout/pokeemerald-expansion/pull/5283)
* Added missing Gen 9 Overworld sprites by @Liamjd14 in [#5304](https://github.com/rh-hideout/pokeemerald-expansion/pull/5304)
    * Original sprites by Darkus_Shadow, Princess-Phoenix, shaderr31, Molfang62, CarmaNekko, EduarPokeN, Larryturbo, TyranitarDark and Anarlaurendil
    * Sources:
        * Normal: https://www.deviantart.com/darkusshadow/art/Gen-9-Paldea-Pokemon-Overworld-Sprites-967776690
        * Shiny: https://www.deviantart.com/darkusshadow/art/SHINY-Gen-9-Paldea-Pokemon-Overworld-Sprites-967779547
### Changed
* Improved Garganacl and Naclstack battle sprites by using the ones from @CyanSMP64's repo by @kittenchilly in [#5142](https://github.com/rh-hideout/pokeemerald-expansion/pull/5142)
* Improved both shiny Indeedee by @Cafeei in [#5285](https://github.com/rh-hideout/pokeemerald-expansion/pull/5285)
* Shiny Combusken now uses its Gen8+ palette by @Cafeei in [#5333](https://github.com/rh-hideout/pokeemerald-expansion/pull/5333)
### Fixed
* Reenabled unused female Indeedee overworld sprite by @Cafeei in [#5285](https://github.com/rh-hideout/pokeemerald-expansion/pull/5285)
* Fixed G-Max Corviknight and Centiskorch's expanded names by @PhallenTree in [#5296](https://github.com/rh-hideout/pokeemerald-expansion/pull/5296)
* Fixed G-Max Cinderace back sprite by @hedara90 in [#5295](https://github.com/rh-hideout/pokeemerald-expansion/pull/5295)
* Fixed Shiny Mothim' by @Cafeei in [#5333](https://github.com/rh-hideout/pokeemerald-expansion/pull/5333)
* Fixed multiple battle sprite issues by @kittenchilly in [#5142](https://github.com/rh-hideout/pokeemerald-expansion/pull/5142)
    * Spidops, Wattrel shiny eyes.
    * Kilowattrel shiny legs.
    * Shroodle shiny palette wrong.
    * Bombirdier stray green pixels on wings, shiny toes.
    * Orthworm stray black pixels in mouth.
    * Veluza stray pixels in mouth.
    * Aerodactyl-Mega shiny or normal either doesn't or have a flap at the back of the mouth that should/shouldn't be there.
    * Medicham-Mega shiny leg shawl thingy loses texture and arm bangles change.
    * Absol-Mega heel spikes not visible.
    * Salamence-Mega eyes could be more triangular.
    * Lati(a/o)s-Mega open mouth looks like a derp tongue.
    * Diancie-Mega shiny outline of waist gold thingy.
    * Ponyta-Galar, Rapidash-Galar shiny hair too yellow.
    * Magearna shiny missing.
    * Landorus front shiny tail wrong shade.
* Fixed multiple overworld Pok√©mon sprites - Part 1 by @Cafeei in [#5241](https://github.com/rh-hideout/pokeemerald-expansion/pull/5241)
    * Tweaked Snivy west walking
    * Fixed Servine shiny palette + blinking
    * Fixed Vulpix east-west blinking
    * Fixed Serperior eyes + removed everything blue from its shiny head
    * Fixed shiny Lillipup palette
    * Fixed shiny Tranquil incorrect forehead color
    * Fixed Zebstrika various coloring issues
    * Fixed shiny Swoobat untextured nose and ears
    * Fixed Throh outline + blinking
    * Fixed shiny Venipede palette
    * Fixed a stray pixel on Woobat 
    * Fixed Blitzle eyes
    * Fixed Dwebble blinking
    * Fixed Krookodile blinking + walking
    * Fixed shiny Crustle palette + white outline on normal
    * Fixed shiny Sigilyph 
    * Fixed secondary teal on Shiny Excadrill
    * Fixed blue Basculin, Krokorok, Archen, Sawsbuck moving in between frames
    * Tweaked Escavalier north cycle
* Fixed multiple overworld Pok√©mon sprites - Part 2 by @Cafeei in [#5333](https://github.com/rh-hideout/pokeemerald-expansion/pull/5333)
    * **Misc fixes:**
        * Riolu shiny - toned down the saturation of blue on the collar
        * Snover shiny- changed dark teal into blue
        * Victini- tweaked south and west
        * Oshawott- made the body slimmer, made its shell more pronounced and fixed gray collar
        * Dewott - new walking cycles
        * Kabutops, Shieldon, Kingler - missing colors
        * Misdreavus - west amplified walk cycle
        * Torkoal - added south walking cycle
        * Groudon - fixed uncolored spike on west
    * **"Blinking" pixels:**
        * **North:** Aggron, Ambipom, Ariados, Articuno, Celebi, Cloyster, Farfetch'd, Grovyle, Heatran (just reduced), Larvitar, Luxio, Luxray, Moltres, Politoed, Rapidash, Scizor, Steelix, Swinub, Togepi, Wartortle, Xatu, Yanmega and Zapdos.
        * **South:** Blastoise, Charmeleon, Corsola, Crobat, Doduo, Dusknoir, Espeon, Furret, Girafarig, Gloom, Golbat, Illumise, Kricketot, Ledian, Mamoswine, Marowak, Meganium, Mightyena, Miltank, Pinsir, Prinplup, Quilava, Raikou, Regirock, Roserade, Sneasel, Spheal, Stunky, Togekiss, Torkoal and Vaporeon.
        * **East/West:** Abomasnow, Azumarill, Bayleef, Bibarel, Chinchou, Cubone, Feraligatr, Floatzel, Gastly, Giratina, Igglybuff, Lileep, Magneton, Mew, Mime Jr, Phione, Porygon-Z, Probopass, Qwilfish, Rampardos, Seel, Skarmory, Slowking, Smoochum, Spinarak, Staraptor, Sudowoodo, Suicune, Tentacruel, Vibrava amd Zubat.
        * **North and South:** Cherrim, Electabuzz, Flaafy, Machamp, Marshtomp, Meowth, Mesprit, Numel, Swellow and Wooper
        * **North and East/West:** Crawdaunt, Exeggcute, Hariyama, Leafeon, Shieldon, Shiftry and Zangoose.
        * **South and East/West:** Armaldo, Flygon, Grumpig, Jolteon, Jumpluff, Lumineon, Mantine, Mantyke, Sceptile and Skiploom.
        * **All:** Alakazam, Barboach, Corphish, Dewott, Flareon, Gligar, Hoppip, Mewtwo, Oshawott and Yanma.
## ‚öîÔ∏è Battle General ‚öîÔ∏è ##
### Changed
* Updated Damage Category icons to match Gen6+ colors by @kittenchilly in [#5080](https://github.com/rh-hideout/pokeemerald-expansion/pull/5080)
### Fixed
* Fixed Slateport Battle Tent/Battle Factory issues by @SarnPoke in [#5281](https://github.com/rh-hideout/pokeemerald-expansion/pull/5281)
    * Choosing the "SWAP" option no longer shows invalid Pok√©mon ("??????????").
    * Reloading after choosing "REST" no longer resets the player's challenge party to invalid Pok√©mon ("??????????").
* Fixed Starting Status happening Wild Battles from a previous Trainer Battle by @PhallenTree in [#5248](https://github.com/rh-hideout/pokeemerald-expansion/pull/5248)
* Fixed bugged behavior caused by Z-Moves and disobedience by @hedara90 in [#5245](https://github.com/rh-hideout/pokeemerald-expansion/pull/5245)
* Fixed Entry Hazards targeting wrong side of the field if the opponent fainted by @PhallenTree in [#5262](https://github.com/rh-hideout/pokeemerald-expansion/pull/5262)
* Fixed being able to use multiple of the same Gimmick in Double Battles by @AgustinGDLV in [#5235](https://github.com/rh-hideout/pokeemerald-expansion/pull/5235)
* Fixed Terastallization not granting immunity to Tar Shot by @AlexOn1ine in [#5302](https://github.com/rh-hideout/pokeemerald-expansion/pull/5302)
* Fixed `Cmd_trainerslidein/out` using the incorrect function by @ghoulslash in [#5326](https://github.com/rh-hideout/pokeemerald-expansion/pull/5326)
    * Cleanup by @hedara90 in [#5344](https://github.com/rh-hideout/pokeemerald-expansion/pull/5344)

## ü§π Moves ü§π
### Added
* Added Charge's Gen 9 behavior via `B_CHARGE` config by @AlexOn1ine in [#5274](https://github.com/rh-hideout/pokeemerald-expansion/pull/5274)
### Fixed
* Fixed move descriptions missing periods (Decorate, Collision Course, Electro Drift) by @Pawkkie and Kasen in [#5221](https://github.com/rh-hideout/pokeemerald-expansion/pull/5221)
* Fixed Confide not being blocked by Crafty Shield interaction by @hedara90 in [#5202](https://github.com/rh-hideout/pokeemerald-expansion/pull/5202)
* Fixed message for switch out moves by @kittenchilly in [#5258](https://github.com/rh-hideout/pokeemerald-expansion/pull/5258)
* Fixed Ice Fang's descriptions using the opposite of what they're supposed to do based on `B_USE_FROSTBITE` by @laserXdolphin in [#5273](https://github.com/rh-hideout/pokeemerald-expansion/pull/5273)
* Fixes to Instruct by @PhallenTree in [#5262](https://github.com/rh-hideout/pokeemerald-expansion/pull/5262)
    * Fixed Instruct bypassing AtkCanceler checks (Instruct allowed the target to act while asleep, flinched, etc.) and its interaction with First Turn Only moves (Fake Out, First Impression, Mat Block). 
    * Fixed Instruct's animation using the attacker and target of the called move.
* Fixed Scale Shot's effect not activating if the opponent fainted before all hits finished by @AlexOn1ine in [#5292](https://github.com/rh-hideout/pokeemerald-expansion/pull/5292)
* Fixed Round not preserving turn order for non-Round users if there's a switch out at the beginning of the turn by @AlexOn1ine in [#5292](https://github.com/rh-hideout/pokeemerald-expansion/pull/5292)
* Fixed Max Moves ignoring absorbing abilities (+ test) by @PhallenTree in [#5296](https://github.com/rh-hideout/pokeemerald-expansion/pull/5296)
* Fixed attack string for Max Moves not being printed if it's blocked by Max Guard by @hedara90 in [#5312](https://github.com/rh-hideout/pokeemerald-expansion/pull/5312)
* Fixed some Pledge move combo issues by @PhallenTree in [#5330](https://github.com/rh-hideout/pokeemerald-expansion/pull/5330)
    * Fixed Pledge move combos attempting to be executed multiple times in a turn, causing mons to decrement sleep timer multiple times during the turn or causing infinite loops.
* Fixed potential issue with custom non-sound moves that use `EFFECT_ATTACK_UP_USER_ALLY` or `EFFECT_PERISH_SONG` being blocked by Soundproof anyway by @AlexOn1ine in [#5301](https://github.com/rh-hideout/pokeemerald-expansion/pull/5301)

## üé≠ Abilities üé≠
### Fixed
* Fixed weather abilities not activating when Cloud Nine user leaves the field by @AlexOn1ine in [#5209](https://github.com/rh-hideout/pokeemerald-expansion/pull/5209)
* Fixed missing `break` for Poison Puppeteer's code by @u8-Salem in [#5243](https://github.com/rh-hideout/pokeemerald-expansion/pull/5243)
* Fixed Pok√©mon with Purifying Salt being poisoned by Toxic Spikes by @AlexOn1ine in [#5252](https://github.com/rh-hideout/pokeemerald-expansion/pull/5252)
* Fixed Parental Bond not affecting Snore by @hedara90 in [#5264](https://github.com/rh-hideout/pokeemerald-expansion/pull/5264)
* Fixed Tera Shift's description by @AsparagusEduardo in [#5351](https://github.com/rh-hideout/pokeemerald-expansion/pull/5351)

## üß∂ Items üß∂
### Fixed
* Fixes berries missing their timing after passive damage by @AlexOn1ine in https://github.com/rh-hideout/pokeemerald-expansion/pull/5300

## ü§ñ Battle AI ü§ñ
### Changed
* AI is encouraged to use "always crit" moves on partner with Anger Point by @SarnPoke in [#5244](https://github.com/rh-hideout/pokeemerald-expansion/pull/5244)
### Fixed
* Fixed AI not seeing the power of Max Moves by @AlexOn1ine in [#5299](https://github.com/rh-hideout/pokeemerald-expansion/pull/5299)
* Fixed minor wrong order in `AI_CalcDamage` that made Nature Power not be considered for Z-Moves by @AlexOn1ine in [#5155](https://github.com/rh-hideout/pokeemerald-expansion/pull/5155)
* Fixed AI not considering Tera Blast/Tera Storm by @AlexOn1ine in [#5155](https://github.com/rh-hideout/pokeemerald-expansion/pull/5155)

## üßπ Other Cleanup üßπ
### Changed
* Remove unused `BattleScript_WindPowerActivatesEnd2` signature by @u8-Salem in [#5257](https://github.com/rh-hideout/pokeemerald-expansion/pull/5257)
* Replaced all usages of tabs in C files with spaces by @hedara90 in [#5261](https://github.com/rh-hideout/pokeemerald-expansion/pull/5261)
* Fixed missing `break`s in two `ENDTURN` cases by @ghoulslash in [#5350](https://github.com/rh-hideout/pokeemerald-expansion/pull/5350)

## üß™ Test Runner üß™
### Added
* Added missing Adaptability, Aerilate, Aftermath tests by @kittenchilly in [#5242](https://github.com/rh-hideout/pokeemerald-expansion/pull/5242)
* Added missing Disguise tests by @hedara90 in [#5249](https://github.com/rh-hideout/pokeemerald-expansion/pull/5249)
* Added some missing Instruct tests by @PhallenTree in [#5262](https://github.com/rh-hideout/pokeemerald-expansion/pull/5262)
### Changed
* Moved `ASSUME`s to inside `GIVEN` blocks to prevent them from being added correctly to the totals in the test summary by @AsparagusEduardo in [#5308](https://github.com/rh-hideout/pokeemerald-expansion/pull/5308)

## üìö Documentation üìö
### Fixed
* Fixed test system documentation saying that `make check TESTS="Spikes"` could be done with single quotes instead of double quotes by @AsparagusEduardo in [#5266](https://github.com/rh-hideout/pokeemerald-expansion/pull/5266)

## New Contributors
* @laserXdolphin made their first contribution in [#5273](https://github.com/rh-hideout/pokeemerald-expansion/pull/5273)
* @Liamjd14 made their first contribution in [#5304](https://github.com/rh-hideout/pokeemerald-expansion/pull/5304)

**Full Changelog**: https://github.com/rh-hideout/pokeemerald-expansion/compare/expansion/1.9.1...expansion/1.9.2
<!--Last PR: 5301-->
